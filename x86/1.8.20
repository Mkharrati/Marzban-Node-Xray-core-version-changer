rm -r /var/lib/xray-core
clear && mkdir /var/lib/xray-core && cd /var/lib/xray-core && wget https://github.com/XTLS/Xray-core/releases/download/v1.8.20/Xray-linux-64.zip && unzip Xray-linux-64.zip && rm geosite.dat README.md LICENSE geoip.dat Xray-linux-64.zip && cd /Marzban-node && awk 'NR==12{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==13{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==14{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==15{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==16{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==17{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==18{$0="";}1' docker-compose.yml > temp && mv temp docker-compose.yml && sed -i '12c\      XRAY_EXECUTABLE_PATH: "/var/lib/xray-core/xray"' docker-compose.yml && sed -i '14c\    volumes:' docker-compose.yml && awk 'NR==14{print; print ""} NR!=14' docker-compose.yml > temp && mv temp docker-compose.yml && awk 'NR==14{print; print ""} NR!=14' docker-compose.yml > temp && mv temp docker-compose.yml && sed -i '15c\      - /var/lib/marzban-node:/var/lib/marzban-node' docker-compose.yml && sed -i '16c\      - /var/lib/xray-core:/var/lib/xray-core' docker-compose.yml && docker compose down && docker compose up -d && echo && echo xray core version chenged successfully && echo
